@using ddla.ITApplication.Database
@using ddla.ITApplication.Helpers
@model List<Product>

<div class="container mt-4">  
    <div class="logo-header">  
        <img src="~/assets/images/ddlaLogo.png" alt="DDLA Logo" class="img-fluid">  
        <div class="logo-text">  
            <h1>IT Qeydiyyat Sistemi</h1>  
            <small>Dövlət Dəniz və Liman Agentliyi</small>  
        </div>  
    </div>  
    <a asp-action="Create" class="btn btn-primary mb-3">Əlavə et</a>  
    <div class="table-responsive">  
        <table class="table table-striped table-bordered">  
            <thead>  
                <tr>  
                    <th>#</th>  
                    <th>İnventar ID</th>
                    <th>Təhvil alan</th>
                    <th>Məhsul adı</th>  
                    <th>Şəkil</th>  
                    <th>Departament</th>  
                    <th>Şöbə</th>  
                    <th>Sayı</th>  
                    <th>Təsvir</th>  
                    <th>Verilmə tarixi</th>  
                    <th>Alınma tarixi</th>  
                    <th>Fayl</th>  
                    <th>Əməliyyatlar</th>  
                </tr>  
            </thead>  
            <tbody id="itemsTable">  
                <!-- Data will be loaded here -->  
                <tr>  
                    @{  
                        int counter = 1;  
                        foreach (var item in Model)  
                        {  
                        <tr scope="row">  
                            <td>@counter</td>
                            <td>@item.InventarId</td>
                            <td>@item.Recipient</td>
                            <td>@item.Name</td>  
                            <td>  
                                <img src="~/assets/images/@item.ImageUrl" alt="Məhsul şəkli" class="file-preview">  
                            </td>  
                            <td>  
                                <span class="badge badge-department">@item.Department.Name</span>  
                            </td>  
                            <td>@item.Count</td>  
                            <td>@item.Description</td>
                            <td>@item.DateofIssue.ToString("dd.MM.yyyy HH:mm")</td>
                            <td>
                                @if (item.DateofReceipt.HasValue)
                                {
                                    @item.DateofReceipt.Value.ToString("dd.MM.yyyy HH:mm")
                                }
                            </td>  
                            <td>  
                                <a href="@item.FilePath" class="btn btn-sm btn-outline-primary">  
                                    <i class="fas fa-download"></i>  
                                </a>  
                            </td>  
                            <td>  
                                <a asp-action="Update" asp-route-id="@item.Id" class="btn btn-warning">  
                                    <i class="fas fa-edit"></i>  
                                </a>  
                                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-danger">  
                                    <i class="fas fa-trash"></i>  
                                </a>  
                            </td>  
                        </tr>  
                        counter++;  
                    }  
                }  
            </tbody>  
        </table>  
    </div>  
</div>
